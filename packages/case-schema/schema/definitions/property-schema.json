{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://case.app/schemas/property-schema.json",
  "title": "Property",
  "description": "A property in your entity. Doc: https://docs.case.app/properties",
  "type": "object",
  "properties": {
    "type": {
      "description": "The type of the property: text, number, link, currency... Doc: https://docs.case.app/property-types",
      "type": "string",
      "enum": [
        "text",
        "number",
        "link",
        "money",
        "date",
        "textarea",
        "email",
        "boolean",
        "relation",
        "password",
        "choice",
        "location"
      ]
    },
    "faker": {
      "description": "The faker function to generate the property value. Doc: https://docs.case.app/property-types?id=faker",
      "type": "string"
    },
    "validation": {
      "description": "The validation for the property with Class Validator. Doc: https://docs.case.app/property-types?id=validation",
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[A-Z][^\\s]*\\(.*\\)$"
      }
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "type": {
            "const": "choice"
          }
        }
      },
      "then": {
        "properties": {
          "choices": {
            "description": "The list of choices for the property. Doc: https://docs.case.app/property-types?id=choice",
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "sequential": {
            "description": "## Sequential\n If the choices should be sequential or not (each item in the list follows the previous one).\n Used for admin panel display.\n . \n Doc: https://docs.case.app/property-types?id=choice",
            "type": "boolean"
          }
        },
        "required": ["choices"]
      }
    },
    {
      "if": {
        "properties": {
          "type": {
            "const": "money"
          }
        }
      },
      "then": {
        "properties": {
          "currency": {
            "description": "The currency in ISO 4217 format. Ex: EUR, INR, USD, CNY...\n Default USD. \n Doc: https://docs.case.app/property-types?id=money",
            "type": "string"
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "faker": {
            "minLength": 1
          }
        }
      },
      "then": {
        "properties": {
          "fakerArgs": {
            "description": "The arguments for the faker function. Doc: https://docs.case.app/property-types?id=faker",
            "type": "object"
          }
        }
      }
    }
  ]
}
